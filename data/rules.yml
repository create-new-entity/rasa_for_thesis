version: "2.0"

rules:

- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Say 'I am a bot' anytime the user challenges
  steps:
  - intent: bot_challenge
  - action: utter_iamabot


- rule: User asks for library
  steps:
  - intent: show_library
  - action: action_show_library

- rule: User wants to see balance
  steps:
  - intent: check_balance
  - action: action_check_balance

- rule: User wants to see available games
  steps:
  - intent: show_available_games
  - action: action_show_available_games

- rule: Add game to cart
  steps:
  - intent: add_to_cart
  - action: action_add_to_cart

- rule: Show cart items
  steps:
  - intent: show_cart_items
  - action: action_show_cart

- rule: Remove from cart
  steps:
  - intent: remove_from_cart
  - action: action_remove_from_cart

- rule: Delete entire cart
  steps:
  - intent: remove_all_from_cart
  - action: action_remove_all_from_cart

- rule: Check if cart is affordable
  steps:
  - intent: is_cart_affordable
  - action: action_is_cart_affordable

- rule: Buy cart items
  steps:
  - intent: buy_cart_items
  - action: action_buy_cart_items

- rule: Add money
  steps:
  - intent: add_money
  - action: action_add_money

- rule: Remove game from library
  steps:
  - intent: remove_game_from_library
  - action: action_remove_game_from_library


- rule: Activate form
  condition:
  - active_loop: null
  steps:
  - intent: update_preferences
  - action: preferences_form
  - active_loop: preferences_form

- rule: Form filled up
  condition:
  - active_loop: preferences_form
  steps:
  - action: preferences_form
  - active_loop: null
  - action: action_updated_preferences
  - action: action_reset_pre_form_slots

- rule: Show preferred available games
  steps:
  - intent: apply_preferance_to_available_games
  - action: action_apply_preferances_to_available_games
